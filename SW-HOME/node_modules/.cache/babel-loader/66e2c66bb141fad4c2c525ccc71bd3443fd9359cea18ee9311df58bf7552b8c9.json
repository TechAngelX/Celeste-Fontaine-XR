{"ast":null,"code":"import React from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const handleChange=(event,input,onImageChange)=>{event.preventDefault();let imageFile=event.target.files[0];if(imageFile){if(/\\.(jpe?g|png)$/i.test(imageFile===null||imageFile===void 0?void 0:imageFile.name)===false){input.onChange(null);onImageChange(null);alert(\"Please select image file only!\");}else{var fileSize=imageFile.size/1024/1024;// in MB\nif(fileSize>5){alert(`Photo size must be less or equal to 5MB. Your photo size is ${fileSize}`);}else{input.onChange(imageFile);onImageChange(imageFile);}}}else{input.onChange(null);onImageChange(null);}};const renderFileInput=props=>{const{input,onImageChange,tips,meta:{touched,error,warning}}=props;return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label d-none\",htmlFor:input.name,children:input.name}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"formFile\",className:\"form-control form-control-sm\",id:input.name,accept:\"image/x-png,image/jpeg\",onChange:event=>handleChange(event,input,onImageChange),required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[tips&&/*#__PURE__*/_jsx(\"div\",{className:\"form-text\",children:tips}),touched&&(error&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:error})||warning&&/*#__PURE__*/_jsx(\"span\",{children:warning}))]})]})});};export default renderFileInput;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","handleChange","event","input","onImageChange","preventDefault","imageFile","target","files","test","name","onChange","alert","fileSize","size","renderFileInput","props","tips","meta","touched","error","warning","Fragment","children","className","htmlFor","type","id","accept","required"],"sources":["/Users/xeon2035/Documents/LOCALDEV/softWEAR/SW-HOME/src/helpers/renderFormFileInput.js"],"sourcesContent":["import React from \"react\";\n\nconst handleChange = (event, input, onImageChange) => {\n  event.preventDefault();\n  let imageFile = event.target.files[0];\n  if (imageFile) {\n    if (/\\.(jpe?g|png)$/i.test(imageFile?.name) === false) {\n      input.onChange(null);\n      onImageChange(null);\n      alert(\"Please select image file only!\");\n    } else {\n      var fileSize = imageFile.size / 1024 / 1024; // in MB\n      if (fileSize > 5) {\n        alert(\n          `Photo size must be less or equal to 5MB. Your photo size is ${fileSize}`\n        );\n      } else {\n        input.onChange(imageFile);\n        onImageChange(imageFile);\n      }\n    }\n  } else {\n    input.onChange(null);\n    onImageChange(null);\n  }\n};\n\nconst renderFileInput = (props) => {\n  const {\n    input,\n    onImageChange,\n    tips,\n    meta: { touched, error, warning },\n  } = props;\n  return (\n    <React.Fragment>\n      <div className=\"mb-3\">\n        <label className=\"form-label d-none\" htmlFor={input.name}>{input.name}</label>\n        <input\n          type=\"file\"\n          name=\"formFile\"\n          className=\"form-control form-control-sm\"\n          id={input.name}\n          accept=\"image/x-png,image/jpeg\"\n          onChange={(event) => handleChange(event, input, onImageChange)}\n          required\n        />\n        <div className=\"d-flex\">\n          {tips && <div className=\"form-text\">{tips}</div>}\n          {touched &&\n            ((error && <div className=\"invalid-feedback\">{error}</div>) ||\n              (warning && <span>{warning}</span>))}\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\nexport default renderFileInput;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,YAAY,CAAGA,CAACC,KAAK,CAAEC,KAAK,CAAEC,aAAa,GAAK,CACpDF,KAAK,CAACG,cAAc,CAAC,CAAC,CACtB,GAAI,CAAAC,SAAS,CAAGJ,KAAK,CAACK,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CACrC,GAAIF,SAAS,CAAE,CACb,GAAI,iBAAiB,CAACG,IAAI,CAACH,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEI,IAAI,CAAC,GAAK,KAAK,CAAE,CACrDP,KAAK,CAACQ,QAAQ,CAAC,IAAI,CAAC,CACpBP,aAAa,CAAC,IAAI,CAAC,CACnBQ,KAAK,CAAC,gCAAgC,CAAC,CACzC,CAAC,IAAM,CACL,GAAI,CAAAC,QAAQ,CAAGP,SAAS,CAACQ,IAAI,CAAG,IAAI,CAAG,IAAI,CAAE;AAC7C,GAAID,QAAQ,CAAG,CAAC,CAAE,CAChBD,KAAK,CACH,+DAA+DC,QAAQ,EACzE,CAAC,CACH,CAAC,IAAM,CACLV,KAAK,CAACQ,QAAQ,CAACL,SAAS,CAAC,CACzBF,aAAa,CAACE,SAAS,CAAC,CAC1B,CACF,CACF,CAAC,IAAM,CACLH,KAAK,CAACQ,QAAQ,CAAC,IAAI,CAAC,CACpBP,aAAa,CAAC,IAAI,CAAC,CACrB,CACF,CAAC,CAED,KAAM,CAAAW,eAAe,CAAIC,KAAK,EAAK,CACjC,KAAM,CACJb,KAAK,CACLC,aAAa,CACba,IAAI,CACJC,IAAI,CAAE,CAAEC,OAAO,CAAEC,KAAK,CAAEC,OAAQ,CAClC,CAAC,CAAGL,KAAK,CACT,mBACElB,IAAA,CAACF,KAAK,CAAC0B,QAAQ,EAAAC,QAAA,cACbvB,KAAA,QAAKwB,SAAS,CAAC,MAAM,CAAAD,QAAA,eACnBzB,IAAA,UAAO0B,SAAS,CAAC,mBAAmB,CAACC,OAAO,CAAEtB,KAAK,CAACO,IAAK,CAAAa,QAAA,CAAEpB,KAAK,CAACO,IAAI,CAAQ,CAAC,cAC9EZ,IAAA,UACE4B,IAAI,CAAC,MAAM,CACXhB,IAAI,CAAC,UAAU,CACfc,SAAS,CAAC,8BAA8B,CACxCG,EAAE,CAAExB,KAAK,CAACO,IAAK,CACfkB,MAAM,CAAC,wBAAwB,CAC/BjB,QAAQ,CAAGT,KAAK,EAAKD,YAAY,CAACC,KAAK,CAAEC,KAAK,CAAEC,aAAa,CAAE,CAC/DyB,QAAQ,MACT,CAAC,cACF7B,KAAA,QAAKwB,SAAS,CAAC,QAAQ,CAAAD,QAAA,EACpBN,IAAI,eAAInB,IAAA,QAAK0B,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAEN,IAAI,CAAM,CAAC,CAC/CE,OAAO,GACJC,KAAK,eAAItB,IAAA,QAAK0B,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAAEH,KAAK,CAAM,CAAC,EACvDC,OAAO,eAAIvB,IAAA,SAAAyB,QAAA,CAAOF,OAAO,CAAO,CAAE,CAAC,EACrC,CAAC,EACH,CAAC,CACQ,CAAC,CAErB,CAAC,CACD,cAAe,CAAAN,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}