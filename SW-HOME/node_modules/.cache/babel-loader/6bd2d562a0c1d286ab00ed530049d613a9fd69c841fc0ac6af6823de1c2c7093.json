{"ast":null,"code":"import{Component}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LEFT_PAGE=\"LEFT\";const RIGHT_PAGE=\"RIGHT\";const range=function(from,to){let step=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;let i=from;const range=[];while(i<=to){range.push(i);i+=step;}return range;};class Paging extends Component{constructor(props){super();this.gotoPage=page=>{const{onPageChanged=f=>f}=this.props;const currentPage=Math.max(0,Math.min(page,this.totalPages));const paginationData={currentPage,totalPages:this.totalPages,pageLimit:this.pageLimit,totalRecords:this.totalRecords};this.setState({currentPage},()=>onPageChanged(paginationData));};this.handleClick=(page,evt)=>{evt.preventDefault();this.gotoPage(page);};this.handleMoveLeft=evt=>{evt.preventDefault();this.gotoPage(this.state.currentPage-this.pageNeighbours*2-1);};this.handleMoveRight=evt=>{evt.preventDefault();this.gotoPage(this.state.currentPage+this.pageNeighbours*2+1);};this.fetchPageNumbers=()=>{const totalPages=this.totalPages;const currentPage=this.state.currentPage;const pageNeighbours=this.pageNeighbours;const totalNumbers=this.pageNeighbours*2+3;const totalBlocks=totalNumbers+2;if(totalPages>totalBlocks){let pages=[];const leftBound=currentPage-pageNeighbours;const rightBound=currentPage+pageNeighbours;const beforeLastPage=totalPages-1;const startPage=leftBound>2?leftBound:2;const endPage=rightBound<beforeLastPage?rightBound:beforeLastPage;pages=range(startPage,endPage);const pagesCount=pages.length;const singleSpillOffset=totalNumbers-pagesCount-1;const leftSpill=startPage>2;const rightSpill=endPage<beforeLastPage;const leftSpillPage=LEFT_PAGE;const rightSpillPage=RIGHT_PAGE;if(leftSpill&&!rightSpill){const extraPages=range(startPage-singleSpillOffset,startPage-1);pages=[leftSpillPage,...extraPages,...pages];}else if(!leftSpill&&rightSpill){const extraPages=range(endPage+1,endPage+singleSpillOffset);pages=[...pages,...extraPages,rightSpillPage];}else if(leftSpill&&rightSpill){pages=[leftSpillPage,...pages,rightSpillPage];}return[1,...pages,totalPages];}return range(1,totalPages);};const{totalRecords=null,pageLimit=30,pageNeighbours:_pageNeighbours=0,sizing=\"\",alignment=\"\"}=props;this.sizing=typeof sizing===\"string\"?sizing:\"\";this.alignment=typeof alignment===\"string\"?alignment:\"\";this.pageLimit=typeof pageLimit===\"number\"?pageLimit:30;this.totalRecords=typeof totalRecords===\"number\"?totalRecords:0;this.pageNeighbours=typeof _pageNeighbours===\"number\"?Math.max(0,Math.min(_pageNeighbours,2)):0;this.totalPages=Math.ceil(this.totalRecords/this.pageLimit);this.state={currentPage:1};}componentDidMount(){this.gotoPage(1);}render(){if(!this.totalRecords)return null;if(this.totalPages===1)return null;const{currentPage}=this.state;const pages=this.fetchPageNumbers();return/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"Page navigation\",children:/*#__PURE__*/_jsx(\"ul\",{className:`pagination ${this.sizing} ${this.alignment}`,children:pages.map((page,index)=>{if(page===LEFT_PAGE)return/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"page-link\",\"aria-label\":\"Previous\",onClick:this.handleMoveLeft,children:[/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xAB\"}),/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Previous\"})]})},index);if(page===RIGHT_PAGE)return/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"page-link\",href:\"#!\",\"aria-label\":\"Next\",onClick:this.handleMoveRight,children:[/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xBB\"}),/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Next\"})]})},index);return/*#__PURE__*/_jsx(\"li\",{className:`page-item${currentPage===page?\" active\":\"\"}`,children:/*#__PURE__*/_jsx(\"a\",{className:\"page-link\",href:\"#!\",onClick:e=>this.handleClick(page,e),children:page})},index);})})});}}export default Paging;","map":{"version":3,"names":["Component","jsx","_jsx","jsxs","_jsxs","LEFT_PAGE","RIGHT_PAGE","range","from","to","step","arguments","length","undefined","i","push","Paging","constructor","props","gotoPage","page","onPageChanged","f","currentPage","Math","max","min","totalPages","paginationData","pageLimit","totalRecords","setState","handleClick","evt","preventDefault","handleMoveLeft","state","pageNeighbours","handleMoveRight","fetchPageNumbers","totalNumbers","totalBlocks","pages","leftBound","rightBound","beforeLastPage","startPage","endPage","pagesCount","singleSpillOffset","leftSpill","rightSpill","leftSpillPage","rightSpillPage","extraPages","sizing","alignment","ceil","componentDidMount","render","children","className","map","index","onClick","href","e"],"sources":["/Users/xeon2035/Documents/LOCALDEV/softWEAR/SW-HOME/src/components/Paging.jsx"],"sourcesContent":["import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst LEFT_PAGE = \"LEFT\";\nconst RIGHT_PAGE = \"RIGHT\";\n\nconst range = (from, to, step = 1) => {\n  let i = from;\n  const range = [];\n\n  while (i <= to) {\n    range.push(i);\n    i += step;\n  }\n\n  return range;\n};\n\nclass Paging extends Component {\n  constructor(props) {\n    super();\n    const {\n      totalRecords = null,\n      pageLimit = 30,\n      pageNeighbours = 0,\n      sizing = \"\",\n      alignment = \"\",\n    } = props;\n    this.sizing = typeof sizing === \"string\" ? sizing : \"\";\n    this.alignment = typeof alignment === \"string\" ? alignment : \"\";\n    this.pageLimit = typeof pageLimit === \"number\" ? pageLimit : 30;\n    this.totalRecords = typeof totalRecords === \"number\" ? totalRecords : 0;\n\n    this.pageNeighbours =\n      typeof pageNeighbours === \"number\"\n        ? Math.max(0, Math.min(pageNeighbours, 2))\n        : 0;\n\n    this.totalPages = Math.ceil(this.totalRecords / this.pageLimit);\n\n    this.state = { currentPage: 1 };\n  }\n\n  componentDidMount() {\n    this.gotoPage(1);\n  }\n\n  gotoPage = (page) => {\n    const { onPageChanged = (f) => f } = this.props;\n\n    const currentPage = Math.max(0, Math.min(page, this.totalPages));\n\n    const paginationData = {\n      currentPage,\n      totalPages: this.totalPages,\n      pageLimit: this.pageLimit,\n      totalRecords: this.totalRecords,\n    };\n\n    this.setState({ currentPage }, () => onPageChanged(paginationData));\n  };\n\n  handleClick = (page, evt) => {\n    evt.preventDefault();\n    this.gotoPage(page);\n  };\n\n  handleMoveLeft = (evt) => {\n    evt.preventDefault();\n    this.gotoPage(this.state.currentPage - this.pageNeighbours * 2 - 1);\n  };\n\n  handleMoveRight = (evt) => {\n    evt.preventDefault();\n    this.gotoPage(this.state.currentPage + this.pageNeighbours * 2 + 1);\n  };\n\n  fetchPageNumbers = () => {\n    const totalPages = this.totalPages;\n    const currentPage = this.state.currentPage;\n    const pageNeighbours = this.pageNeighbours;\n\n    const totalNumbers = this.pageNeighbours * 2 + 3;\n    const totalBlocks = totalNumbers + 2;\n\n    if (totalPages > totalBlocks) {\n      let pages = [];\n\n      const leftBound = currentPage - pageNeighbours;\n      const rightBound = currentPage + pageNeighbours;\n      const beforeLastPage = totalPages - 1;\n\n      const startPage = leftBound > 2 ? leftBound : 2;\n      const endPage = rightBound < beforeLastPage ? rightBound : beforeLastPage;\n\n      pages = range(startPage, endPage);\n\n      const pagesCount = pages.length;\n      const singleSpillOffset = totalNumbers - pagesCount - 1;\n\n      const leftSpill = startPage > 2;\n      const rightSpill = endPage < beforeLastPage;\n\n      const leftSpillPage = LEFT_PAGE;\n      const rightSpillPage = RIGHT_PAGE;\n\n      if (leftSpill && !rightSpill) {\n        const extraPages = range(startPage - singleSpillOffset, startPage - 1);\n        pages = [leftSpillPage, ...extraPages, ...pages];\n      } else if (!leftSpill && rightSpill) {\n        const extraPages = range(endPage + 1, endPage + singleSpillOffset);\n        pages = [...pages, ...extraPages, rightSpillPage];\n      } else if (leftSpill && rightSpill) {\n        pages = [leftSpillPage, ...pages, rightSpillPage];\n      }\n\n      return [1, ...pages, totalPages];\n    }\n\n    return range(1, totalPages);\n  };\n\n  render() {\n    if (!this.totalRecords) return null;\n\n    if (this.totalPages === 1) return null;\n\n    const { currentPage } = this.state;\n    const pages = this.fetchPageNumbers();\n\n    return (\n      <nav aria-label=\"Page navigation\">\n        <ul className={`pagination ${this.sizing} ${this.alignment}`}>\n          {pages.map((page, index) => {\n            if (page === LEFT_PAGE)\n              return (\n                <li key={index} className=\"page-item\">\n                  <button\n                    className=\"page-link\"\n                    aria-label=\"Previous\"\n                    onClick={this.handleMoveLeft}\n                  >\n                    <span aria-hidden=\"true\">&laquo;</span>\n                    <span className=\"sr-only\">Previous</span>\n                  </button>\n                </li>\n              );\n\n            if (page === RIGHT_PAGE)\n              return (\n                <li key={index} className=\"page-item\">\n                  <a\n                    className=\"page-link\"\n                    href=\"#!\"\n                    aria-label=\"Next\"\n                    onClick={this.handleMoveRight}\n                  >\n                    <span aria-hidden=\"true\">&raquo;</span>\n                    <span className=\"sr-only\">Next</span>\n                  </a>\n                </li>\n              );\n\n            return (\n              <li\n                key={index}\n                className={`page-item${currentPage === page ? \" active\" : \"\"}`}\n              >\n                <a\n                  className=\"page-link\"\n                  href=\"#!\"\n                  onClick={(e) => this.handleClick(page, e)}\n                >\n                  {page}\n                </a>\n              </li>\n            );\n          })}\n        </ul>\n      </nav>\n    );\n  }\n}\n\nPaging.propTypes = {\n  totalRecords: PropTypes.number.isRequired,\n  pageLimit: PropTypes.number,\n  pageNeighbours: PropTypes.number,\n  onPageChanged: PropTypes.func,\n  sizing: PropTypes.string,\n};\n\nexport default Paging;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}